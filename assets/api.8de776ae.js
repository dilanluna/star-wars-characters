import{_ as I,r as m,j as E,A,n as L,i as N,w as xt,p as dt,q as Z,b as Et,f as q,c as M,s as Rt,h as bt,t as Ot,v as tt,m as St,F as Pt,S as It,x as ht,y as Y,z as Nt,B as et,C as nt,D as _t,E as $t,G as it,H as rt,I as wt,J as Ct,K as k,M as Tt,N as at,O as Qt,P as Ft,R as C,Q as Bt,T as ft}from"./index.0a7d5c7c.js";function D(i,r){if(i==null)return{};var n={},a=Object.keys(i),t,e;for(e=0;e<a.length;e++)t=a[e],!(r.indexOf(t)>=0)&&(n[t]=i[t]);return n}function g(){return g=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},g.apply(this,arguments)}var T={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},U={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function z(i){var r,n=(r=i==null?void 0:i.direction)!=null?r:"right";switch(n){case"right":return U.slideRight;case"left":return U.slideLeft;case"bottom":return U.slideDown;case"top":return U.slideUp;default:return U.slideRight}}var Q={enter:{duration:.2,ease:T.easeOut},exit:{duration:.1,ease:T.easeIn}},O={enter:function(r,n){return g({},r,{delay:Z(n)?n:n==null?void 0:n.enter})},exit:function(r,n){return g({},r,{delay:Z(n)?n:n==null?void 0:n.exit})}},Ut=["in","unmountOnExit","animateOpacity","startingHeight","endingHeight","style","className","transition","transitionEnd"],kt=function(r){return r!=null&&parseInt(r.toString(),10)>0},st={exit:{height:{duration:.2,ease:T.ease},opacity:{duration:.3,ease:T.ease}},enter:{height:{duration:.3,ease:T.ease},opacity:{duration:.4,ease:T.ease}}},Mt={exit:function(r){var n,a=r.animateOpacity,t=r.startingHeight,e=r.transition,o=r.transitionEnd,s=r.delay;return g({},a&&{opacity:kt(t)?1:0},{height:t,transitionEnd:o==null?void 0:o.exit,transition:(n=e==null?void 0:e.exit)!=null?n:O.exit(st.exit,s)})},enter:function(r){var n,a=r.animateOpacity,t=r.endingHeight,e=r.transition,o=r.transitionEnd,s=r.delay;return g({},a&&{opacity:1},{height:t,transitionEnd:o==null?void 0:o.enter,transition:(n=e==null?void 0:e.enter)!=null?n:O.enter(st.enter,s)})}},At=m.exports.forwardRef(function(i,r){var n=i.in,a=i.unmountOnExit,t=i.animateOpacity,e=t===void 0?!0:t,o=i.startingHeight,s=o===void 0?0:o,l=i.endingHeight,u=l===void 0?"auto":l,c=i.style,f=i.className,h=i.transition,v=i.transitionEnd,d=D(i,Ut),p=m.exports.useState(!1),R=p[0],P=p[1];m.exports.useEffect(function(){var x=setTimeout(function(){P(!0)});return function(){return clearTimeout(x)}},[]),xt({condition:Boolean(s>0&&a),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});var _=parseFloat(s.toString())>0,y={startingHeight:s,endingHeight:u,animateOpacity:e,transition:R?h:{enter:{duration:0}},transitionEnd:dt(v,{exit:a?void 0:{display:_?"block":"none"}})},$=a?n:!0,F=n||a?"enter":"exit";return E(A,{initial:!1,custom:y,children:$&&m.exports.createElement(L.div,g({ref:r},d,{className:N("chakra-collapse",f),style:g({overflow:"hidden",display:"block"},c),custom:y,variants:Mt,initial:a?"exit":!1,animate:F,exit:"exit"}))})});I&&(At.displayName="Collapse");var Lt=["unmountOnExit","in","className","transition","transitionEnd","delay"],Dt={enter:function(r){var n,a=r===void 0?{}:r,t=a.transition,e=a.transitionEnd,o=a.delay;return{opacity:1,transition:(n=t==null?void 0:t.enter)!=null?n:O.enter(Q.enter,o),transitionEnd:e==null?void 0:e.enter}},exit:function(r){var n,a=r===void 0?{}:r,t=a.transition,e=a.transitionEnd,o=a.delay;return{opacity:0,transition:(n=t==null?void 0:t.exit)!=null?n:O.exit(Q.exit,o),transitionEnd:e==null?void 0:e.exit}}},jt={initial:"exit",animate:"enter",exit:"exit",variants:Dt},Ht=m.exports.forwardRef(function(i,r){var n=i.unmountOnExit,a=i.in,t=i.className,e=i.transition,o=i.transitionEnd,s=i.delay,l=D(i,Lt),u=a||n?"enter":"exit",c=n?a&&n:!0,f={transition:e,transitionEnd:o,delay:s};return E(A,{custom:f,children:c&&m.exports.createElement(L.div,g({ref:r,className:N("chakra-fade",t),custom:f},jt,{animate:u},l))})});I&&(Ht.displayName="Fade");var Yt=["unmountOnExit","in","reverse","initialScale","className","transition","transitionEnd","delay"],Xt={exit:function(r){var n,a=r.reverse,t=r.initialScale,e=r.transition,o=r.transitionEnd,s=r.delay;return g({opacity:0},a?{scale:t,transitionEnd:o==null?void 0:o.exit}:{transitionEnd:g({scale:t},o==null?void 0:o.exit)},{transition:(n=e==null?void 0:e.exit)!=null?n:O.exit(Q.exit,s)})},enter:function(r){var n,a=r.transitionEnd,t=r.transition,e=r.delay;return{opacity:1,scale:1,transition:(n=t==null?void 0:t.enter)!=null?n:O.enter(Q.enter,e),transitionEnd:a==null?void 0:a.enter}}},Wt={initial:"exit",animate:"enter",exit:"exit",variants:Xt},zt=m.exports.forwardRef(function(i,r){var n=i.unmountOnExit,a=i.in,t=i.reverse,e=t===void 0?!0:t,o=i.initialScale,s=o===void 0?.95:o,l=i.className,u=i.transition,c=i.transitionEnd,f=i.delay,h=D(i,Yt),v=n?a&&n:!0,d=a||n?"enter":"exit",p={initialScale:s,reverse:e,transition:u,transitionEnd:c,delay:f};return E(A,{custom:p,children:v&&m.exports.createElement(L.div,g({ref:r,className:N("chakra-offset-slide",l)},Wt,{animate:d,custom:p},h))})});I&&(zt.displayName="ScaleFade");var Kt=["direction","style","unmountOnExit","in","className","transition","transitionEnd","delay"],ot={exit:{duration:.15,ease:T.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},Gt={exit:function(r){var n,a=r.direction,t=r.transition,e=r.transitionEnd,o=r.delay,s=z({direction:a}),l=s.exit;return g({},l,{transition:(n=t==null?void 0:t.exit)!=null?n:O.exit(ot.exit,o),transitionEnd:e==null?void 0:e.exit})},enter:function(r){var n,a=r.direction,t=r.transitionEnd,e=r.transition,o=r.delay,s=z({direction:a}),l=s.enter;return g({},l,{transition:(n=e==null?void 0:e.enter)!=null?n:O.enter(ot.enter,o),transitionEnd:t==null?void 0:t.enter})}},Vt=m.exports.forwardRef(function(i,r){var n=i.direction,a=n===void 0?"right":n,t=i.style,e=i.unmountOnExit,o=i.in,s=i.className,l=i.transition,u=i.transitionEnd,c=i.delay,f=D(i,Kt),h=z({direction:a}),v=Object.assign({position:"fixed"},h.position,t),d=e?o&&e:!0,p=o||e?"enter":"exit",R={transitionEnd:u,transition:l,direction:a,delay:c};return E(A,{custom:R,children:d&&m.exports.createElement(L.div,g({},f,{ref:r,initial:"exit",className:N("chakra-slide",s),animate:p,exit:"exit",custom:R,variants:Gt,style:v}))})});I&&(Vt.displayName="Slide");var qt=["unmountOnExit","in","reverse","className","offsetX","offsetY","transition","transitionEnd","delay"],Jt={initial:function(r){var n,a=r.offsetX,t=r.offsetY,e=r.transition,o=r.transitionEnd,s=r.delay;return{opacity:0,x:a,y:t,transition:(n=e==null?void 0:e.exit)!=null?n:O.exit(Q.exit,s),transitionEnd:o==null?void 0:o.exit}},enter:function(r){var n,a=r.transition,t=r.transitionEnd,e=r.delay;return{opacity:1,x:0,y:0,transition:(n=a==null?void 0:a.enter)!=null?n:O.enter(Q.enter,e),transitionEnd:t==null?void 0:t.enter}},exit:function(r){var n,a=r.offsetY,t=r.offsetX,e=r.transition,o=r.transitionEnd,s=r.reverse,l=r.delay,u={x:t,y:a};return g({opacity:0,transition:(n=e==null?void 0:e.exit)!=null?n:O.exit(Q.exit,l)},s?g({},u,{transitionEnd:o==null?void 0:o.exit}):{transitionEnd:g({},u,o==null?void 0:o.exit)})}},Zt={initial:"initial",animate:"enter",exit:"exit",variants:Jt},te=m.exports.forwardRef(function(i,r){var n=i.unmountOnExit,a=i.in,t=i.reverse,e=t===void 0?!0:t,o=i.className,s=i.offsetX,l=s===void 0?0:s,u=i.offsetY,c=u===void 0?8:u,f=i.transition,h=i.transitionEnd,v=i.delay,d=D(i,qt),p=n?a&&n:!0,R=a||n?"enter":"exit",P={offsetX:l,offsetY:c,reverse:e,transition:f,transitionEnd:h,delay:v};return E(A,{custom:P,children:p&&m.exports.createElement(L.div,g({ref:r,className:N("chakra-offset-slide",o),custom:P},Zt,{animate:R},d))})});I&&(te.displayName="SlideFade");function j(i,r){if(i==null)return{};var n={},a=Object.keys(i),t,e;for(e=0;e<a.length;e++)t=a[e],!(r.indexOf(t)>=0)&&(n[t]=i[t]);return n}function S(){return S=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},S.apply(this,arguments)}var ee=["size","colorScheme","variant","className","spacing","isAttached","isDisabled"],vt=Et({strict:!1,name:"ButtonGroupContext"}),ne=vt[0],ie=vt[1],re=q(function(i,r){var n=i.size,a=i.colorScheme,t=i.variant,e=i.className,o=i.spacing,s=o===void 0?"0.5rem":o,l=i.isAttached,u=i.isDisabled,c=j(i,ee),f=N("chakra-button__group",e),h=m.exports.useMemo(function(){return{size:n,colorScheme:a,variant:t,isDisabled:u}},[n,a,t,u]),v={display:"inline-flex"};return l?v=S({},v,{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}):v=S({},v,{"& > *:not(style) ~ *:not(style)":{marginStart:s}}),m.exports.createElement(ne,{value:h},m.exports.createElement(M.div,S({ref:r,role:"group",__css:v,className:f,"data-attached":l?"":void 0},c)))});I&&(re.displayName="ButtonGroup");var ae=["label","placement","spacing","children","className","__css"],K=function(r){var n=r.label,a=r.placement,t=r.spacing,e=t===void 0?"0.5rem":t,o=r.children,s=o===void 0?E(It,{color:"currentColor",width:"1em",height:"1em"}):o,l=r.className,u=r.__css,c=j(r,ae),f=N("chakra-button__spinner",l),h=a==="start"?"marginEnd":"marginStart",v=m.exports.useMemo(function(){var d;return S((d={display:"flex",alignItems:"center",position:n?"relative":"absolute"},d[h]=n?e:0,d.fontSize="1em",d.lineHeight="normal",d),u)},[u,n,h,e]);return m.exports.createElement(M.div,S({className:f},c,{__css:v}),s)};I&&(K.displayName="ButtonSpinner");var se=["children","className"],G=function(r){var n=r.children,a=r.className,t=j(r,se),e=m.exports.isValidElement(n)?m.exports.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,o=N("chakra-button__icon",a);return m.exports.createElement(M.span,S({display:"inline-flex",alignSelf:"center",flexShrink:0},t,{className:o}),e)};I&&(G.displayName="ButtonIcon");function oe(i){var r=m.exports.useState(!i),n=r[0],a=r[1],t=m.exports.useCallback(function(o){!o||a(o.tagName==="BUTTON")},[]),e=n?"button":void 0;return{ref:t,type:e}}var ue=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],mt=q(function(i,r){var n=ie(),a=Rt("Button",S({},n,i)),t=bt(i),e=t.isDisabled,o=e===void 0?n==null?void 0:n.isDisabled:e,s=t.isLoading,l=t.isActive,u=t.children,c=t.leftIcon,f=t.rightIcon,h=t.loadingText,v=t.iconSpacing,d=v===void 0?"0.5rem":v,p=t.type,R=t.spinner,P=t.spinnerPlacement,_=P===void 0?"start":P,y=t.className,$=t.as,F=j(t,ue),x=m.exports.useMemo(function(){var H,w=dt({},(H=a==null?void 0:a._focus)!=null?H:{},{zIndex:1});return S({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},a,!!n&&{_focus:w})},[a,n]),B=oe($),X=B.ref,W=B.type,b={rightIcon:f,leftIcon:c,iconSpacing:d,children:u};return m.exports.createElement(M.button,S({disabled:o||s,ref:Ot(r,X),as:$,type:p!=null?p:W,"data-active":tt(l),"data-loading":tt(s),__css:x,className:N("chakra-button",y)},F),s&&_==="start"&&E(K,{className:"chakra-button__spinner--start",label:h,placement:"start",spacing:d,children:R}),s?h||m.exports.createElement(M.span,{opacity:0},E(ut,{...b})):E(ut,{...b}),s&&_==="end"&&E(K,{className:"chakra-button__spinner--end",label:h,placement:"end",spacing:d,children:R}))});I&&(mt.displayName="Button");function ut(i){var r=i.leftIcon,n=i.rightIcon,a=i.children,t=i.iconSpacing;return St(Pt,{children:[r&&E(G,{marginEnd:t,children:r}),a,n&&E(G,{marginStart:t,children:n})]})}var le=["icon","children","isRound","aria-label"],ce=q(function(i,r){var n=i.icon,a=i.children,t=i.isRound,e=i["aria-label"],o=j(i,le),s=n||a,l=m.exports.isValidElement(s)?m.exports.cloneElement(s,{"aria-hidden":!0,focusable:!1}):null;return E(mt,{padding:"0",borderRadius:t?"full":void 0,ref:r,"aria-label":e,...o,children:l})});I&&(ce.displayName="IconButton");var pt=function(i){ht(r,i);function r(a,t){var e;return e=i.call(this)||this,e.client=a,e.options=t,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(t),e}var n=r.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),lt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return V(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return V(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(t,e){var o=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&ct(this.currentQuery,s,this.options,o)&&this.executeFetch(),this.updateResult(e),l&&(this.currentQuery!==s||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==s||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(t){var e=this.client.defaultQueryObserverOptions(t),o=this.client.getQueryCache().build(this.client,e);return this.createResult(o,e)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(t,e){var o=this,s={},l=function(c){o.trackedProps.includes(c)||o.trackedProps.push(c)};return Object.keys(t).forEach(function(u){Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:function(){return l(u),t[u]}})}),(e.useErrorBoundary||e.suspense)&&l("error"),s},n.getNextResult=function(t){var e=this;return new Promise(function(o,s){var l=e.subscribe(function(u){u.isFetching||(l(),u.isError&&(t==null?void 0:t.throwOnError)?s(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(t){return this.fetch(Y({},t,{meta:{refetchPage:t==null?void 0:t.refetchPage}}))},n.fetchOptimistic=function(t){var e=this,o=this.client.defaultQueryObserverOptions(t),s=this.client.getQueryCache().build(this.client,o);return s.fetch().then(function(){return e.createResult(s,o)})},n.fetch=function(t){var e=this;return this.executeFetch(t).then(function(){return e.updateResult(),e.currentResult})},n.executeFetch=function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Nt)),e},n.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!(et||this.currentResult.isStale||!nt(this.options.staleTime))){var e=_t(this.currentResult.dataUpdatedAt,this.options.staleTime),o=e+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},o)}},n.computeRefetchInterval=function(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1},n.updateRefetchInterval=function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!(et||this.options.enabled===!1||!nt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||$t.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(t,e){var o=this.currentQuery,s=this.options,l=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,f=t!==o,h=f?t.state:this.currentQueryInitialState,v=f?this.currentResult:this.previousQueryResult,d=t.state,p=d.dataUpdatedAt,R=d.error,P=d.errorUpdatedAt,_=d.isFetching,y=d.status,$=!1,F=!1,x;if(e.optimisticResults){var B=this.hasListeners(),X=!B&&lt(t,e),W=B&&ct(t,o,e,s);(X||W)&&(_=!0,p||(y="loading"))}if(e.keepPreviousData&&!d.dataUpdateCount&&(v==null?void 0:v.isSuccess)&&y!=="error")x=v.data,p=v.dataUpdatedAt,y=v.status,$=!0;else if(e.select&&typeof d.data<"u")if(l&&d.data===(u==null?void 0:u.data)&&e.select===this.selectFn)x=this.selectResult;else try{this.selectFn=e.select,x=e.select(d.data),e.structuralSharing!==!1&&(x=it(l==null?void 0:l.data,x)),this.selectResult=x,this.selectError=null}catch(w){rt().error(w),this.selectError=w}else x=d.data;if(typeof e.placeholderData<"u"&&typeof x>"u"&&(y==="loading"||y==="idle")){var b;if((l==null?void 0:l.isPlaceholderData)&&e.placeholderData===(c==null?void 0:c.placeholderData))b=l.data;else if(b=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof b<"u")try{b=e.select(b),e.structuralSharing!==!1&&(b=it(l==null?void 0:l.data,b)),this.selectError=null}catch(w){rt().error(w),this.selectError=w}typeof b<"u"&&(y="success",x=b,F=!0)}this.selectError&&(R=this.selectError,x=this.selectResult,P=Date.now(),y="error");var H={status:y,isLoading:y==="loading",isSuccess:y==="success",isError:y==="error",isIdle:y==="idle",data:x,dataUpdatedAt:p,error:R,errorUpdatedAt:P,failureCount:d.fetchFailureCount,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>h.dataUpdateCount||d.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&y!=="loading",isLoadingError:y==="error"&&d.dataUpdatedAt===0,isPlaceholderData:F,isPreviousData:$,isRefetchError:y==="error"&&d.dataUpdatedAt!==0,isStale:J(t,e),refetch:this.refetch,remove:this.remove};return H},n.shouldNotifyListeners=function(t,e){if(!e)return!0;var o=this.options,s=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!s&&!l||s==="tracked"&&!this.trackedProps.length)return!0;var u=s==="tracked"?this.trackedProps:s;return Object.keys(t).some(function(c){var f=c,h=t[f]!==e[f],v=u==null?void 0:u.some(function(p){return p===c}),d=l==null?void 0:l.some(function(p){return p===c});return h&&!d&&(!u||v)})},n.updateResult=function(t){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!wt(this.currentResult,e)){var o={cache:!0};(t==null?void 0:t.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(o.listeners=!0),this.notify(Y({},o,t))}},n.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))}},n.onQueryUpdate=function(t){var e={};t.type==="success"?e.onSuccess=!0:t.type==="error"&&!Ct(t.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},n.notify=function(t){var e=this;k.batch(function(){t.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):t.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),t.listeners&&e.listeners.forEach(function(o){o(e.currentResult)}),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},r}(Tt);function de(i,r){return r.enabled!==!1&&!i.state.dataUpdatedAt&&!(i.state.status==="error"&&r.retryOnMount===!1)}function lt(i,r){return de(i,r)||i.state.dataUpdatedAt>0&&V(i,r,r.refetchOnMount)}function V(i,r,n){if(r.enabled!==!1){var a=typeof n=="function"?n(i):n;return a==="always"||a!==!1&&J(i,r)}return!1}function ct(i,r,n,a){return n.enabled!==!1&&(i!==r||a.enabled===!1)&&(!n.suspense||i.state.status!=="error")&&J(i,n)}function J(i,r){return i.isStaleByTime(r.staleTime)}var he=function(i){ht(r,i);function r(a,t){return i.call(this,a,t)||this}var n=r.prototype;return n.bindMethods=function(){i.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},n.setOptions=function(t,e){i.prototype.setOptions.call(this,Y({},t,{behavior:at()}),e)},n.getOptimisticResult=function(t){return t.behavior=at(),i.prototype.getOptimisticResult.call(this,t)},n.fetchNextPage=function(t){var e;return this.fetch({cancelRefetch:(e=t==null?void 0:t.cancelRefetch)!=null?e:!0,throwOnError:t==null?void 0:t.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:t==null?void 0:t.pageParam}}})},n.fetchPreviousPage=function(t){var e;return this.fetch({cancelRefetch:(e=t==null?void 0:t.cancelRefetch)!=null?e:!0,throwOnError:t==null?void 0:t.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:t==null?void 0:t.pageParam}}})},n.createResult=function(t,e){var o,s,l,u,c,f,h=t.state,v=i.prototype.createResult.call(this,t,e);return Y({},v,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Qt(e,(o=h.data)==null?void 0:o.pages),hasPreviousPage:Ft(e,(s=h.data)==null?void 0:s.pages),isFetchingNextPage:h.isFetching&&((l=h.fetchMeta)==null||(u=l.fetchMore)==null?void 0:u.direction)==="forward",isFetchingPreviousPage:h.isFetching&&((c=h.fetchMeta)==null||(f=c.fetchMore)==null?void 0:f.direction)==="backward"})},r}(pt);function fe(){var i=!1;return{clearReset:function(){i=!1},reset:function(){i=!0},isReset:function(){return i}}}var ve=C.createContext(fe()),me=function(){return C.useContext(ve)};function pe(i,r,n){return typeof r=="function"?r.apply(void 0,n):typeof r=="boolean"?r:!!i}function yt(i,r){var n=C.useRef(!1),a=C.useState(0),t=a[1],e=Bt(),o=me(),s=e.defaultQueryObserverOptions(i);s.optimisticResults=!0,s.onError&&(s.onError=k.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=k.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=k.batchCalls(s.onSettled)),s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),s.cacheTime===0&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(o.isReset()||(s.retryOnMount=!1));var l=C.useState(function(){return new r(e,s)}),u=l[0],c=u.getOptimisticResult(s);if(C.useEffect(function(){n.current=!0,o.clearReset();var f=u.subscribe(k.batchCalls(function(){n.current&&t(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,f()}},[o,u]),C.useEffect(function(){u.setOptions(s,{listeners:!1})},[s,u]),s.suspense&&c.isLoading)throw u.fetchOptimistic(s).then(function(f){var h=f.data;s.onSuccess==null||s.onSuccess(h),s.onSettled==null||s.onSettled(h,null)}).catch(function(f){o.clearReset(),s.onError==null||s.onError(f),s.onSettled==null||s.onSettled(void 0,f)});if(c.isError&&!o.isReset()&&!c.isFetching&&pe(s.suspense,s.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return s.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,s)),c}function ye(i,r,n){var a=ft(i,r,n);return yt(a,pt)}function ge(i,r,n){var a=ft(i,r,n);return yt(a,he)}const gt="https://swapi.dev/api";function be(i){const r=i.split("/");return Number(r[r.length-2])}async function xe(i,r){const n=new URL(`${gt}/people`);return n.searchParams.set("page",String(i)),r&&n.searchParams.set("search",r),await(await fetch(n.toString())).json()}async function Ee(i){return await(await fetch(`${gt}/people/${i}`)).json()}const Oe=i=>ge(["infiniteCharacters",i],({pageParam:r=1})=>xe(r,i),{getNextPageParam:r=>{if(!r.next)return null;const a=new URL(r.next).searchParams.get("page");return Number(a)}}),Se=i=>ye(["characters","detail",i],()=>Ee(i));export{mt as B,Ht as F,Se as a,be as e,Oe as u};
