import{_ as y,f as I,r as h,j as u,o as Y,c as x,u as Z,a as j,b as ee,d as z,e as R,g as q,h as A,i as O,k as ae,l as te,m as F,L as re,V as ne}from"./index.0a7d5c7c.js";import{e as D,F as ie,B,u as le}from"./api.8de776ae.js";import{V as w,S as se,H as de,F as oe}from"./chakra-ui-layout.esm.8c9b7108.js";function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}function H(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ue(e){var t=e.loading,r=e.src,n=e.srcSet,a=e.onLoad,i=e.onError,s=e.crossOrigin,d=e.sizes,c=e.ignoreFallback,o=h.exports.useState("pending"),f=o[0],g=o[1];h.exports.useEffect(function(){g(r?"loading":"pending")},[r]);var l=h.exports.useRef(),b=h.exports.useCallback(function(){if(!!r){v();var m=new Image;m.src=r,s&&(m.crossOrigin=s),n&&(m.srcset=n),d&&(m.sizes=d),t&&(m.loading=t),m.onload=function(p){v(),g("loaded"),a==null||a(p)},m.onerror=function(p){v(),g("failed"),i==null||i(p)},l.current=m}},[r,s,n,d,a,i,t]),v=function(){l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return Z(function(){if(!c)return f==="loading"&&b(),function(){v()}},[f,b,c]),c?"loaded":f}var ce=function(t,r){return t!=="loaded"&&r==="beforeLoadOrError"||t==="failed"&&r==="onError"},fe=["htmlWidth","htmlHeight","alt"],me=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin","fallbackStrategy","referrerPolicy"],C=h.exports.forwardRef(function(e,t){var r=e.htmlWidth,n=e.htmlHeight,a=e.alt,i=H(e,fe);return u("img",{width:r,height:n,ref:t,alt:a,...i})});y&&(C.displayName="NativeImage");var W=I(function(e,t){var r=e.fallbackSrc,n=e.fallback,a=e.src,i=e.srcSet,s=e.align,d=e.fit,c=e.loading,o=e.ignoreFallback,f=e.crossOrigin,g=e.fallbackStrategy,l=g===void 0?"beforeLoadOrError":g,b=e.referrerPolicy,v=H(e,me),m=r!==void 0||n!==void 0,p=c!=null||o||!m,Q=ue(_({},e,{ignoreFallback:p})),X=ce(Q,l),$=_({ref:t,objectFit:d,objectPosition:s},p?v:Y(v,["onError","onLoad"]));return X?n||h.exports.createElement(x.img,_({as:C,className:"chakra-image__placeholder",src:r},$)):h.exports.createElement(x.img,_({as:C,src:a,srcSet:i,crossOrigin:f,loading:c,referrerPolicy:b,className:"chakra-image"},$))});y&&(W.displayName="Image");function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}function V(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}j("FormControl");var ve=ee({strict:!1,name:"FormControlContext"}),he=ve[1],ge=["isDisabled","isInvalid","isReadOnly","isRequired"],be=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function pe(e){var t=ye(e),r=t.isDisabled,n=t.isInvalid,a=t.isReadOnly,i=t.isRequired,s=V(t,ge);return k({},s,{disabled:r,readOnly:a,required:i,"aria-invalid":R(n),"aria-required":R(i),"aria-readonly":R(a)})}function ye(e){var t,r,n,a=he(),i=e.id,s=e.disabled,d=e.readOnly,c=e.required,o=e.isRequired,f=e.isInvalid,g=e.isReadOnly,l=e.isDisabled,b=e.onFocus,v=e.onBlur,m=V(e,be),p=e["aria-describedby"]?[e["aria-describedby"]]:[];return a!=null&&a.hasFeedbackText&&a!=null&&a.isInvalid&&p.push(a.feedbackId),a!=null&&a.hasHelpText&&p.push(a.helpTextId),k({},m,{"aria-describedby":p.join(" ")||void 0,id:i!=null?i:a==null?void 0:a.id,isDisabled:(t=s!=null?s:l)!=null?t:a==null?void 0:a.isDisabled,isReadOnly:(r=d!=null?d:g)!=null?r:a==null?void 0:a.isReadOnly,isRequired:(n=c!=null?c:o)!=null?n:a==null?void 0:a.isRequired,isInvalid:f!=null?f:a==null?void 0:a.isInvalid,onFocus:z(a==null?void 0:a.onFocus,b),onBlur:z(a==null?void 0:a.onBlur,v)})}j("FormError");function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function N(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Ie=["htmlSize"],L=I(function(e,t){var r=e.htmlSize,n=N(e,Ie),a=q("Input",n),i=A(n),s=pe(i),d=O("chakra-input",e.className);return h.exports.createElement(x.input,S({size:r},s,{__css:a.field,ref:t,className:d}))});y&&(L.displayName="Input");L.id="Input";var _e=["children","className"],G=j("InputGroup"),xe=G[0],Se=G[1],T=Se,Oe=I(function(e,t){var r=q("Input",e),n=A(e),a=n.children,i=n.className,s=N(n,_e),d=O("chakra-input__group",i),c={},o=ae(a),f=r.field;o.forEach(function(l){if(!!r){if(f&&l.type.id==="InputLeftElement"){var b;c.paddingStart=(b=f.height)!=null?b:f.h}if(f&&l.type.id==="InputRightElement"){var v;c.paddingEnd=(v=f.height)!=null?v:f.h}l.type.id==="InputRightAddon"&&(c.borderEndRadius=0),l.type.id==="InputLeftAddon"&&(c.borderStartRadius=0)}});var g=o.map(function(l){var b,v,m=te({size:((b=l.props)==null?void 0:b.size)||e.size,variant:((v=l.props)==null?void 0:v.variant)||e.variant});return l.type.id!=="Input"?h.exports.cloneElement(l,m):h.exports.cloneElement(l,Object.assign(m,c,l.props))});return h.exports.createElement(x.div,S({className:d,ref:t,__css:{width:"100%",display:"flex",position:"relative"}},s),u(xe,{value:r,children:g}))});y&&(Oe.displayName="InputGroup");var Ne=["placement"],ke={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},Ee=x("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),P=I(function(e,t){var r,n=e.placement,a=n===void 0?"left":n,i=N(e,Ne),s=(r=ke[a])!=null?r:{},d=T();return u(Ee,{ref:t,...i,__css:S({},d.addon,s)})});y&&(P.displayName="InputAddon");var K=I(function(e,t){return u(P,{ref:t,placement:"left",...e,className:O("chakra-input__left-addon",e.className)})});y&&(K.displayName="InputLeftAddon");K.id="InputLeftAddon";var M=I(function(e,t){return u(P,{ref:t,placement:"right",...e,className:O("chakra-input__right-addon",e.className)})});y&&(M.displayName="InputRightAddon");M.id="InputRightAddon";var Re=["placement"],Fe=["className"],Ce=["className"],je=x("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),E=I(function(e,t){var r,n,a,i=e.placement,s=i===void 0?"left":i,d=N(e,Re),c=T(),o=c.field,f=s==="left"?"insetStart":"insetEnd",g=S((a={},a[f]="0",a.width=(r=o==null?void 0:o.height)!=null?r:o==null?void 0:o.h,a.height=(n=o==null?void 0:o.height)!=null?n:o==null?void 0:o.h,a.fontSize=o==null?void 0:o.fontSize,a),c.element);return u(je,{ref:t,__css:g,...d})});E.id="InputElement";y&&(E.displayName="InputElement");var U=I(function(e,t){var r=e.className,n=N(e,Fe),a=O("chakra-input__left-element",r);return u(E,{ref:t,placement:"left",className:a,...n})});U.id="InputLeftElement";y&&(U.displayName="InputLeftElement");var J=I(function(e,t){var r=e.className,n=N(e,Ce),a=O("chakra-input__right-element",r);return u(E,{ref:t,placement:"right",className:a,...n})});J.id="InputRightElement";y&&(J.displayName="InputRightElement");const we="/star-wars-characters/assets/heading.a75bfb68.png",Le=h.exports.forwardRef((e,t)=>u(L,{ref:t,...e,type:"search",variant:"app-search",placeholder:"Search a character..."})),Pe=Le;function $e({character:e}){return u(ie,{in:!0,children:F(w,{p:4,spacing:3,bg:"gray.700",boxShadow:"md",borderRadius:5,alignItems:"stretch",children:[u(de,{as:"h5",size:"md",children:e.name}),u(B,{as:re,size:"sm",to:`/${D(e.url)}`,colorScheme:"yellow",children:"View Details"})]})})}function ze({characters:e}){return u(w,{spacing:8,alignItems:"stretch",children:u(se,{columns:{base:1,sm:2,md:3,lg:4},spacing:4,children:e.map(t=>u($e,{character:t},D(t.url)))})})}function Be(){const[e,t]=h.exports.useState(""),{isLoading:r,data:n,fetchNextPage:a,hasNextPage:i}=le(e),s=async()=>{await a()};return F(w,{spacing:8,alignItems:"stretch",children:[F(oe,{as:"h2",justifyContent:"center",children:[u(ne,{children:"Star Wars Characters"}),u(W,{src:we,alt:"Star Wars Characters"})]}),u(Pe,{value:e,onChange:d=>t(d.target.value)}),!r&&n&&u(ze,{characters:n==null?void 0:n.pages.flatMap(d=>d.results)}),i&&u(B,{colorScheme:"yellow",onClick:s,children:"Load more"})]})}export{Be as default};
